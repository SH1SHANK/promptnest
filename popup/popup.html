<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PromptNest</title>
    <link rel="stylesheet" href="popup.css" />
    <link rel="stylesheet" href="onboarding.css" />
  </head>
  <body class="pn-popup">
    <header class="pn-header">
      <h1 class="pn-title pn-header-title">PromptNest</h1>
      <div class="pn-header-actions">
        <div id="ai-status" class="pn-ai-status pn-ai-status--loading">
          <span class="pn-ai-dot loading"></span>
          <span class="pn-ai-status__text">Loading AI...</span>
        </div>
        <button id="add-prompt-btn" class="pn-btn pn-btn--primary" type="button">Add Prompt</button>
      </div>
    </header>

    <div class="pn-search-row">
      <input id="prompt-search" class="pn-search" type="text" placeholder="Search prompts by title or tags" />
    </div>

    <nav class="pn-tab-bar" aria-label="PromptNest tabs">
      <button class="tab pn-tab active" data-tab="prompts" type="button">Prompts</button>
      <button class="tab pn-tab" data-tab="history" type="button">History</button>
    </nav>

    <main class="pn-main">
      <section class="tab-content pn-tab-content active" data-tab="prompts">
        <div id="prompt-list" class="pn-list"></div>
      </section>

      <section class="tab-content pn-tab-content" data-tab="history">
        <div id="history-list" class="pn-list"></div>
      </section>
    </main>

    <div id="add-modal" class="pn-modal pn-hidden">
      <div class="pn-modal__backdrop" data-close-modal></div>
      <div class="pn-modal__panel">
        <h2 class="pn-modal__title">Save Prompt</h2>

        <label class="pn-field">
          <span>Title</span>
          <input id="prompt-title" type="text" placeholder="Prompt title" />
        </label>

        <label class="pn-field">
          <span>Prompt Text</span>
          <textarea id="prompt-text" rows="6" placeholder="Write your prompt here..."></textarea>
        </label>

        <label class="pn-field">
          <span>Tags</span>
          <div class="pn-tag-badges" id="tag-badges-wrap">
            <input id="prompt-tags-input" class="pn-tag-badges__input" type="text" placeholder="Type a tag and press Space" />
          </div>
          <input id="prompt-tags" type="hidden" />
        </label>

        <div class="pn-modal__actions">
          <button id="cancel-modal" class="pn-btn pn-btn--ghost" type="button">Cancel</button>
          <button id="confirm-duplicate" class="pn-btn pn-btn-warn hidden" type="button">Save Anyway</button>
          <button id="save-new-prompt" class="pn-btn pn-btn--primary" type="button">Save</button>
        </div>
      </div>
    </div>

    <script src="../libs/jspdf.min.js"></script>
    <script src="../utils/constants.js"></script>
    <script src="../utils/dom-helpers.js"></script>
    <script src="../utils/tags.js"></script>
    <script src="../utils/platform.js"></script>
    <script src="../utils/storage.js"></script>
    <script src="../utils/exporter.js"></script>
    <script src="../utils/ai.js"></script>
    <script src="popup.js"></script>
  </body>
</html>
